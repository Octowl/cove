<div class="container">
    <div class="row">
        <div class="col-sm-4">
            <img id="profilePic" src="{{user.image}}">
            <h3><span>{{user.firstName}}</span><span>{{" " + user.lastName}} </span></h3>
            <h5 ng-if="loggedInFilter(loggedInUser,user)">{{user.email}}</h5>
            <div>Average rating: <span ng-class="{'glyphicon-star': $index < getStars(user.userRatings), 'glyphicon-star-empty' : $index >= getStars(user.userRatings)}" class="glyphicon" ng-repeat="i in stars track by $index"></span></div>

            <h5 ng-if="loggedInFilter(loggedInUser,user)">{{user.address}}</h5>
            <h5 ng-hide="user.address"> Enter an Address</h5>
        </div>
        <div class="col-sm-8">

            <uib-accordion close-others="oneAtATime">
                <uib-accordion-group is-open="status.isFirstOpen" is-disabled="status.isFirstDisabled">
                    <uib-accordion-heading><span class="glyphicon glyphicon-pencil"></span> {{user.firstName}}'s Reviews
                    </uib-accordion-heading>
                    <review ng-repeat="review in reviews"></review>
                </uib-accordion-group>
            </uib-accordion>
            <uib-accordion close-others="oneAtATime" ng-if="loggedInFilter(loggedInUser,user)">
                <uib-accordion-group is-open="status.isFirstOpen" is-disabled="status.isFirstDisabled">
                    <uib-accordion-heading><span class="glyphicon glyphicon-list-alt"></span> {{user.firstName}}'s Order History
                    </uib-accordion-heading>
                    <!-- <order ng-repeat="order in orders | filter:{$: false}"></order> -->
                    <div ng-repeat="order in orders | filter:{$: false}">
                        <a ui-sref="orderDetail({id: order.id})">{{order.id}} {{order.datePlaced}}</a>
                    </div>
                </uib-accordion-group>
            </uib-accordion>
        </div>
    </div>
</div>
